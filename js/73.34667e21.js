"use strict";(self["webpackChunktest_task_vue_vuetify"]=self["webpackChunktest_task_vue_vuetify"]||[]).push([[73],{4073:function(e,l,t){t.d(l,{A:function(){return O}});var a=t(6768),o=t(4232),d=t(5130),i=t(144),n=t(782);const u={class:"d-flex justify-space-around"};var s=(0,a.pM)({__name:"ActionsMenu",emits:["addItem","editItem","removeItem"],setup(e,{emit:l}){const t=l,d=()=>{t("addItem")},n=()=>{t("editItem")},s=()=>{t("removeItem")},m=[{id:0,title:"Добавить",event:d},{id:1,title:"Изменить",event:n},{id:2,title:"Удалить",event:s}],r=(0,a.WQ)("isLoading");return(e,l)=>{const t=(0,a.g2)("v-list-item-title"),d=(0,a.g2)("v-list-item"),n=(0,a.g2)("v-list"),s=(0,a.g2)("v-menu"),c=(0,a.g2)("v-btn");return(0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(c,{color:"primary",disabled:(0,i.R1)(r)},{default:(0,a.k6)((()=>[l[0]||(l[0]=(0,a.eW)(" Действия ")),(0,a.bF)(s,{activator:"parent"},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(m,(e=>(0,a.bF)(d,{key:e.id,onClick:e.event},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"]))),64))])),_:1})])),_:1})])),_:1},8,["disabled"])])}}});const m=s;var r=m;const c=e=>{const l=()=>e("closeModal");return{closeModal:l}},v={class:"d-flex justify-space-between"},f={class:"d-flex flex-column justify-space-between pa-4 ga-4"};var p=(0,a.pM)({__name:"ActionModal",props:{title:{},isOpened:{type:Boolean}},emits:["closeModal"],setup(e,{emit:l}){const t=e,d=(0,a.EW)((()=>t.isOpened)),n=l,{closeModal:u}=c(n);return(e,l)=>{const t=(0,a.g2)("v-card-title"),n=(0,a.g2)("v-btn"),s=(0,a.g2)("v-card-actions"),m=(0,a.g2)("v-card"),r=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.Wv)(r,{"max-width":"480",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e)},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"px-4 py-8"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",v,[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.title),1)])),_:1}),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,{color:"black",icon:"mdi-close",onClick:(0,i.R1)(u)},null,8,["onClick"])])),_:1})]),(0,a.Lk)("div",f,[(0,a.RG)(e.$slots,"default")])])),_:3})])),_:3},8,["modelValue"])}}});const b=p;var V=b,k=t(136);const g={class:"d-flex flex-column"},F={class:"d-flex justify-end ga-4"};var _=(0,a.pM)({__name:"ActionAddItem",emits:["closeModal"],setup(e,{emit:l}){const t=(0,n.Pj)(),o=(0,a.EW)((()=>t.getters.profiles.at(-1).id+1)),{clearProfile:d}=(0,k.c)(),u=l,{closeModal:s}=c(u);let m=(0,i.Kh)({email:"",phone:"",company:"",jobTitle:"",lastName:"",firstName:"",interests:""});const r=()=>{t.dispatch("addProfile",{id:o.value,status:!1,...m}),d(m),s()};return(e,l)=>{const t=(0,a.g2)("v-text-field"),o=(0,a.g2)("v-btn"),n=(0,a.g2)("v-form");return(0,a.uX)(),(0,a.Wv)(n,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",g,[(0,a.bF)(t,{label:"Имя",variant:"outlined",modelValue:(0,i.R1)(m).firstName,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.R1)(m).firstName=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(t,{label:"Фамилия",variant:"outlined",modelValue:(0,i.R1)(m).lastName,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.R1)(m).lastName=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(t,{label:"Компания",variant:"outlined",modelValue:(0,i.R1)(m).company,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.R1)(m).company=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(t,{label:"Cпециальность",variant:"outlined",modelValue:(0,i.R1)(m).jobTitle,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.R1)(m).jobTitle=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(t,{label:"Телефон",variant:"outlined",modelValue:(0,i.R1)(m).phone,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.R1)(m).phone=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(t,{label:"Email",variant:"outlined",modelValue:(0,i.R1)(m).email,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,i.R1)(m).email=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(t,{label:"Интересы",variant:"outlined",modelValue:(0,i.R1)(m).interests,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,i.R1)(m).interests=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,a.Lk)("div",F,[(0,a.bF)(o,{rounded:"lg",variant:"outlined",onClick:l[7]||(l[7]=e=>(0,i.R1)(d)((0,i.R1)(m)))},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("Очистить")]))),_:1}),(0,a.bF)(o,{rounded:"lg","base-color":"#02599f",onClick:r},{default:(0,a.k6)((()=>l[9]||(l[9]=[(0,a.eW)("Добавить")]))),_:1})])])),_:1})}}});const M=_;var y=M;t(8992),t(2577);const R={class:"d-flex flex-column"},x={class:"d-flex justify-end ga-4"},C={key:1,class:"text-center"};var h=(0,a.pM)({__name:"ActionEditItem",emits:["closeModal"],setup(e,{emit:l}){const t=(0,n.Pj)(),o=l,{closeModal:d}=c(o),u=(0,a.EW)((()=>t.getters.profiles)),s=(0,a.EW)((()=>u.value.length>0)),m=(0,i.KR)(),r=(0,i.Kh)({});(0,a.sV)((()=>{s.value&&(m.value=u.value[0].id)})),(0,a.wB)(m,(()=>{const e=m.value,l=u.value.find((l=>l.id===e));Object.assign(r,l)}));const v=()=>{t.dispatch("editProfile",{...r}),d()};return(e,l)=>{const t=(0,a.g2)("v-select"),o=(0,a.g2)("v-text-field"),d=(0,a.g2)("v-btn"),i=(0,a.g2)("v-form");return s.value?((0,a.uX)(),(0,a.Wv)(i,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("div",R,[(0,a.bF)(t,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),items:u.value,"item-title":"id","item-value":"id",label:"Выберите ID пользователя",variant:"outlined"},null,8,["modelValue","items"]),(0,a.bF)(o,{label:"Имя",variant:"outlined",modelValue:r.firstName,"onUpdate:modelValue":l[1]||(l[1]=e=>r.firstName=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(o,{label:"Фамилия",variant:"outlined",modelValue:r.lastName,"onUpdate:modelValue":l[2]||(l[2]=e=>r.lastName=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(o,{label:"Компания",variant:"outlined",modelValue:r.company,"onUpdate:modelValue":l[3]||(l[3]=e=>r.company=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(o,{label:"Специальность",variant:"outlined",modelValue:r.jobTitle,"onUpdate:modelValue":l[4]||(l[4]=e=>r.jobTitle=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(o,{label:"Телефон",variant:"outlined",modelValue:r.phone,"onUpdate:modelValue":l[5]||(l[5]=e=>r.phone=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(o,{label:"Email",variant:"outlined",modelValue:r.email,"onUpdate:modelValue":l[6]||(l[6]=e=>r.email=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),(0,a.bF)(o,{label:"Интересы",variant:"outlined",modelValue:r.interests,"onUpdate:modelValue":l[7]||(l[7]=e=>r.interests=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,a.Lk)("div",x,[(0,a.bF)(d,{rounded:"lg","base-color":"#02599f",onClick:v},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("Сохранить")]))),_:1})])])),_:1})):((0,a.uX)(),(0,a.CE)("p",C,"Пустой список профилей"))}}});const j=h;var U=j,E=(0,a.pM)({__name:"ActionsContainer",props:{selected:{}},setup(e){const l=e,t=(0,n.Pj)(),o=(0,i.KR)({add:!1,edit:!1}),d=(e,l)=>{o.value[e]=l},u=()=>{t.dispatch("removeProfiles",l.selected)};return(e,l)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r,{onAddItem:l[0]||(l[0]=e=>d("add",!0)),onEditItem:l[1]||(l[1]=e=>d("edit",!0)),onRemoveItem:u}),(0,a.bF)(V,{title:"Добавить элемент",isOpened:o.value.add,onCloseModal:l[3]||(l[3]=e=>d("add",!1))},{default:(0,a.k6)((()=>[(0,a.bF)(y,{onCloseModal:l[2]||(l[2]=e=>d("add",!1))})])),_:1},8,["isOpened"]),(0,a.bF)(V,{title:"Редактировать элемент",isOpened:o.value.edit,onCloseModal:l[5]||(l[5]=e=>d("edit",!1))},{default:(0,a.k6)((()=>[(0,a.bF)(U,{onCloseModal:l[4]||(l[4]=e=>d("edit",!1))})])),_:1},8,["isOpened"])],64))}});const W=E;var I=W;const L={class:"d-flex flex-column flex-sm-row justify-space-between align-center ga-4 pa-8"},N={class:"d-flex ga-4 align-center"},w={class:"text-h4"},P={class:"px-4 d-flex justify-center"},K={key:1,class:"py-8"};var X=(0,a.pM)({__name:"ProfilesTable",props:{title:{},type:{}},setup(e){const l=e,t=(0,n.Pj)(),u=(0,i.KR)(!1),s=(0,i.KR)(!1),m=(0,a.EW)((()=>t.getters.filteredProfiles)),r=async()=>{u.value&&(u.value=!1),s.value=!0;try{await t.dispatch("loadProfiles",l.type)}catch{u.value=!0}finally{s.value=!1}},c=(0,i.KR)([]);(0,a.sV)((()=>{r()}));const v=[{title:"Имя",value:"firstName"},{title:"Фамилия",value:"lastName"},{title:"Компания",value:"company"},{title:"Cпециальность",value:"jobTitle"},{title:"Телефон",value:"phone"},{title:"Email",value:"email"},{title:"Интересы",value:"interests"}];return(0,a.Gt)("isLoading",(0,i.tB)(s)),(e,l)=>{const t=(0,a.g2)("v-icon"),i=(0,a.g2)("v-skeleton-loader"),n=(0,a.g2)("v-data-table");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",L,[(0,a.Lk)("div",N,[(0,a.Lk)("p",w,(0,o.v_)(e.title),1),(0,a.bF)(t,{color:"#02599f",icon:"mdi-refresh",size:"x-large",onClick:(0,d.D$)(r,["stop"])})]),(0,a.bF)(I,{selected:c.value},null,8,["selected"])]),(0,a.Lk)("div",P,[u.value?((0,a.uX)(),(0,a.CE)("p",K,"Ошибка загрузки данных")):((0,a.uX)(),(0,a.Wv)(n,{key:0,items:m.value,headers:v,"show-select":"",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),"item-value":"id",loading:s.value},{loading:(0,a.k6)((()=>[(0,a.bF)(i,{type:"table-row@10"})])),_:1},8,["items","modelValue","loading"]))])],64)}}});const A=X;var O=A}}]);
//# sourceMappingURL=73.34667e21.js.map